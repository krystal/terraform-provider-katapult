---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "katapult_file_storage_volume Resource - terraform-provider-katapult"
subcategory: ""
description: |-
  The File Storage Volume resource allows you to manage File Storage Volumes in Katapult.
  -> Note: Volumes are not automatically mounted within associated virtual machines. This must be done manually or via a provisioning tool of some kind, using the nfs_location attribute value as the mount source.
  ~> Warning: Deleting a file storage volume resource with Terraform will by default purge the volume from Katapult's trash, permanently deleting it. If you wish to instead keep a deleted volume in the trash, set theskip_trash_object_purge provider option to true. By default, objects in the trash are permanently deleted after 48 hours.
---

# katapult_file_storage_volume (Resource)

The File Storage Volume resource allows you to manage File Storage Volumes in Katapult.

-> **Note:** Volumes are not automatically mounted within associated virtual machines. This must be done manually or via a provisioning tool of some kind, using the `nfs_location` attribute value as the mount source.

~> **Warning:** Deleting a file storage volume resource with Terraform will by default purge the volume from Katapult's trash, permanently deleting it. If you wish to instead keep a deleted volume in the trash, set the`skip_trash_object_purge` provider option to `true`. By default, objects in the trash are permanently deleted after 48 hours.

## Example Usage

```terraform
# Minimal
resource "katapult_file_storage_volume" "cache" {
  name = "cache"
}

# Practical
resource "katapult_ip" "web" {}
resource "katapult_virtual_machine" "web" {
  hostname      = "web-1"
  package       = "rock-3"
  disk_template = "ubuntu-18-04"
  disk_template_options = {
    install_agent = true
  }
  ip_address_ids = [katapult_ip.db.id]
}

resource "katapult_file_storage_volume" "assets" {
  name = "assets"
  associations = [
    # Note: The still needs to be mounted on the VM using the
    # nfs_location attribute value.
    katapult_virtual_machine.web.id,
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Unique name to help identify the volume. Must be unique within the organization.

### Optional

- `associations` (Set of String) The resource IDs which can access this file storage volume. Currently only accepts virtual machine IDs.
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `id` (String) The ID of the file storage volume. This is automatically generated by the API.
- `nfs_location` (String) The NFS location indicating where to mount the volume from. This is where the volume must be mounted from inside of virtual machines referenced in `associations`.

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `update` (String)
