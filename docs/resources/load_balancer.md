---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "katapult_load_balancer Resource - terraform-provider-katapult"
subcategory: ""
description: |-
  
---

# katapult_load_balancer (Resource)



## Example Usage

```terraform
# Directly assign virtual machines to the load balancer
resource "katapult_load_balancer" "by-vms" {
  name = "by-vms"

  virtual_machine {
    id = "vm_3HmtE9zPthxuAI6j"
  }

  virtual_machine {
    id = "vm_ru36Np4eTbXGjTrM"
  }
}

# Same as above, but dynamically specify virtual_machine blocks.
resource "katapult_load_balancer" {
  name = "dynamic-block"

  dynamic "virtual_machine" {
    for_each = ["vm_3HmtE9zPthxuAI6j", "vm_ru36Np4eTbXGjTrM"]

    content {
      id = virtual_machine.value
    }
  }
}

# Assign virtual machines based on groups to the laod balancer
resource "katapult_load_balancer" "by-group" {
  name = "by-group"

  virtual_machine_group {
    id = "vmgrp_sQx8kjqefpvsLVyu"
  }

  dynamic "virtual_machine_group" {
    for_each = ["vmgrp_CICXhD3LrWE5uP46", "vmgrp_qaF7p1RqMgSAoybA"]

    content {
      id = virtual_machine_group.value
    }
  }
}

# Assign virtual machines based on tags to the laod balancer
resource "katapult_load_balancer" "by-tag" {
  name = "by-tag"

  tag {
    id = "tag_2xFkGuXp8iNciPxi"
  }

  dynamic "tag" {
    for_each = ["tag_NKWVzB706MdfYODr", "tag_SAMo9t0eHM1SuNwX"]

    content {
      id = tag.value
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `external_rules` (Boolean) When enabled, The full list of rules are not managed by Terraform. Induvidual rules can still be managed with the `katapult_load_balancer_rule` resource. This is required to prevent Terraform from deleting rules managed outside of Terraform. Defaults to `false`.
- `name` (String)
- `rules` (Attributes List) (see [below for nested schema](#nestedatt--rules))
- `tag` (Attributes List) (see [below for nested schema](#nestedatt--tag))
- `virtual_machine` (Attributes List) (see [below for nested schema](#nestedatt--virtual_machine))
- `virtual_machine_group` (Attributes List) (see [below for nested schema](#nestedatt--virtual_machine_group))

### Read-Only

- `https_redirect` (Boolean)
- `id` (String) The ID of this resource.
- `ip_address` (String)
- `resource_type` (String)

<a id="nestedatt--rules"></a>
### Nested Schema for `rules`

Required:

- `destination_port` (Number)
- `listen_port` (Number)
- `passthrough_ssl` (Boolean)
- `protocol` (String)

Optional:

- `algorithm` (String)
- `backend_ssl` (Boolean)
- `certificates` (Attributes List) (see [below for nested schema](#nestedatt--rules--certificates))
- `check_enabled` (Boolean)
- `check_fall` (Number)
- `check_http_statuses` (String)
- `check_interval` (Number)
- `check_path` (String)
- `check_protocol` (String)
- `check_rise` (Number)
- `check_timeout` (Number)
- `load_balancer_id` (String)
- `proxy_protocol` (Boolean)

Read-Only:

- `id` (String)

<a id="nestedatt--rules--certificates"></a>
### Nested Schema for `rules.certificates`

Required:

- `id` (String)
- `name` (String)

Optional:

- `additional_names` (List of String)

Read-Only:

- `state` (String)



<a id="nestedatt--tag"></a>
### Nested Schema for `tag`

Required:

- `id` (String)


<a id="nestedatt--virtual_machine"></a>
### Nested Schema for `virtual_machine`

Required:

- `id` (String)


<a id="nestedatt--virtual_machine_group"></a>
### Nested Schema for `virtual_machine_group`

Required:

- `id` (String)


